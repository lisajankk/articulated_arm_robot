# Articulated Arm Robot Visualization

This project aims to create an animated visualization of an articulated arm robot using JavaFX. The JavaFX framework's basic functionalities were utilized to implement the project.

The project consists of two main parts: a 3D visualization and the underlying code responsible for rendering the 3D scene.

## 3D Visualization Objects
1. **Ground**: Represented by a Cylinder, prepared using the function _preparePodstawa()_.
   
2. **Robot Base**: Comprises two components: base Cylinder - created by the function _prepareSecondPodstawa()_; robot base plate - generated by the function _preparePodstawaRobota()_.
   
3. **First Axis of the Robot**: Consists of three components Cylinder-response functions: _preparePierwszeRamieRobota1()_, _preparePierwszeRamieRobota2()_, _preparePierwszeRamieRobota3()_.

4. **Second Axis of the Robot**: Represented by a Box, obtained through the function _prepareDrugieRamieRobota1()_.

5. **Third Axis of the Robot**: Box-response functions: _prepareTrzecieRamieRobota1()_, _prepareTrzecieRamieRobota_magnes()_.

6. **Large PG Plate**: Created with the function _PGBox()_ as a Box, along with an accompanying 2D image of the entire PG emblem on the PG Plate, rendered using the function _ImageView1()_. Additionally, the function _PGMagnes()_ generates a magnet that attracts the PG emblem.

7. **Guide column**: Consists of two box-response functions _Zasady(), ZasadySlup()_ and rendered through the function _Przewodnik()_ a 2D image depicting visualization rules for the robot.

8. **Moving Object (PG Emblem)**: Represented by a Box, created using the functions _Herb()_ and _HerbPodstawka()_.

9. **Lights**: The lighting sources for the scene, created using the functions _prepareLightSource1()_, _prepareLightSource2()_, and _prepareLightSource3()_.

### User-Friendly Interface Functions
To provide a convenient interface, the _initMouseControl()_ function were implemented which allows horizontal movement in the 3D environment, with limited horizontal rotation and zoom capabilities.

## Robot control
The robot's movement is controlled using keyboard keys through a switch function. The following keys are used for control:
* **A**: Rotate the robot's first axis to the left.
* **D**: Rotate the robot's first axis to the right.
* **W**: Move the robot's second axis upwards.
* **S**: Move the robot's second axis downwards.
* **Q**: Move the robot's third axis upwards.
* **E**: Move the robot's third axis downwards.
* **G** (Grab): Take the object (_Herb()_ in this case).
* **R** (Release): Release the object (_Herb()_ in this case).
* **C**: Return to the initial position of the robot (0, 0, 0) for all axes.
* **L** (Learning): Execute the learned robot movement.
* **Z** (Zero): Reset the entire simulation.

## Code description

* **Importing Libraries [Lines 3-31]**: In the initial part of the code, the required libraries for the project are imported.
* **Main Function Initialization [Lines 37-102]**: In the _Main()_ function, various variables used throughout the code are declared and initialized.
* **SmartGroups Initialization [Lines 108-112]**: After creating the camera and scene [Lines 163-166], the SmartGroups are initialized. These SmartGroups handle the movement of both stationary and moving parts of the robot. The objects placed in **calkiem_nieruchoma** and **nieruchoma** SmartGroups won't move due to the lack of translation in these groups. On the other hand, objects such as **pierwszeRamie**, **drugieRamie**, and **trzecieRamie** will rotate since their SmartGroups allow translation (_Translate(_)).
* **Group Assignments [Lines 128-151]**: There's a mandatory process of copying one SmartGroup to another (adding children to a SmartGroup).
* **Axis Rotation Functions [Lines 115-117]**: The functions _rotate_pierwsze_ramie()_, _rotate_drugie_ramie()_, and _rotate_trzecie_ramie()_ handle the rotation of individual robot axes. Lines [156-161] add children to these functions, specifying which parts of the robot should move in the respective SmartGroups.
* **Group Creation [Lines 146-154]**: Individual groups are created, and children are added to them.
* **Robot Control [Lines 183-307]**: The robot's movement is controlled using keyboard keys through a switch function. The following keys were discussed in the previous section **Robot control**.
* **Robot Movement Control Functions [Lines 183-307]**: The robot's movements are controlled by the functions: _obrot_w_lewa_strone_1_ramie()_, _obrot_w_prawa_strone_1_ramie()_, _kierowanie_w_gore_2_ramie()_, _kierowanie_w_dol_2_ramie()_, _kierowanie_w_gore_3_ramie()_, and _kierowanie_w_dol_3_ramie()_. Each of these six functions operates in a similar way but differs only in the conditional statements.

  For example, a leftward rotation of the first robot axis occurs (counter1 is the variable indicating the current angle of the first robot axis) when certain conditions in the _if()_ statement are met, and there is no collision between the robot and the PG Plate _(kolizja() == false_). The current positions of the first robot axis are then stored in a two-dimensional matrix to reproduce the robot's movements (the so-called robot execution mode).

  Before executing a robot's axis movement, collision detection is performed to check for any potential collisions. The _kolizja()_ function returns a boolean value, determining if the robot's movement will result in a collision based on the position of the PG Plate.

* **Grabbing and Releasing the Object [Lines 128-151, 146-154]**: Taking the object (**G key**) occurs when the robot gripper's magnet is close enough to the PG emblem, as determined by the conditions in the _if()_ statement within the _funkcja_grab()_ function.

  The critical function responsible for taking the object is _GRAB_HERB()_ inside the _funkcja_grab()_ function. It operates by removing the HERB from the **nieruchoma** SmartGroup and adding it to the **trzecieRamie** SmartGroup, simultaneously changing the HERB group's translation. At the same time, the current position of the robot's gripper is recorded, read from **uczenie[0][a]**, **uczenie[1][b]**, **uczenie[2][c]**, and assigned to **spra**, **sprb**, **sprc**.

  Releasing the object **(R key**) is only possible after the PG emblem is magnetically attached to the robot gripper (using the G key) and when the robot's arm is positioned very close to the PG Plate's magnet (_if()_ conditions in the _funkcja_release()_ function are met).

  The function _RELEASE_HERB()_, found inside the _funkcja_release()_ function, works similarly to _GRAB_HERB()_. If the robot's arm is close enough to the PG Plate's magnet, the HERB is removed from the **trzecieRamie** SmartGroup and placed back into the **nieruchoma** SmartGroup, simultaneously changing the HERB group's translation. The current position of the robot's gripper is recorded and assigned to **rpra**, **rprb**, **rprc**.

  In this version of the project, only one keypress for **C** and **L** can be used in a single program run. This limitation is due to the presence of separate timers within the functions _LEARING_timer()_ and _COFANIE_timer()_ that can interact and potentially cause the program to malfunction. As a result, safety measures were implemented to prevent the use of **L** and **C** during a single program run.

  To return to the initial position of the robot's axes (**C key**), the shortest path from the robot's current position to the starting point (0, 0, 0) is determined by _if()_ statements within the _COFANIE_timer()_ function.

  Recreating a previously learned sequence of movements (**L key**) is achieved by the _LEARNING_timer()_ function. It reproduces the robot's movements based on the _if()_ conditions. The movements will occur from the robot's zero position (0, 0, 0) to the position where the robot was left before pressing the L key. During the reproduction of these robot movements, the function checks for the moments when the G and/or R keys were pressed (if at all) to recreate the object grabbing and releasing at the appropriate moments.

## Documentation
For more detailed information, please refer to the documentation provided in PDF format.

  
## Project visualization
<img src="https://github.com/lisajankk/articulated_arm_robot/assets/124843836/ec76e9aa-a448-48ee-a966-84c5a560981f" width="800">

